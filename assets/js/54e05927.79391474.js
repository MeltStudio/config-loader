"use strict";(self.webpackChunk_meltstudio_config_loader=self.webpackChunk_meltstudio_config_loader||[]).push([[512],{6191(e,t,n){n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>p,frontMatter:()=>r,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"typescript-utilities","title":"TypeScript Utilities","description":"config-loader exports several types and utilities for advanced use cases:","source":"@site/docs/typescript-utilities.md","sourceDirName":".","slug":"/typescript-utilities","permalink":"/config-loader/typescript-utilities","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4,"title":"TypeScript Utilities"},"sidebar":"defaultSidebar","previous":{"title":"Loading & Sources","permalink":"/config-loader/loading-and-sources"}}');var s=n(4848),o=n(8453);const r={sidebar_position:4,title:"TypeScript Utilities"},a="TypeScript Utilities",c={},l=[{value:"<code>SchemaValue</code>",id:"schemavalue",level:2},{value:"<code>oneOf</code> Type Narrowing",id:"oneof-type-narrowing",level:2},{value:"License",id:"license",level:2}];function d(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"typescript-utilities",children:"TypeScript Utilities"})}),"\n",(0,s.jsx)(t.p,{children:"config-loader exports several types and utilities for advanced use cases:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-typescript",children:'import c, {\n  type SchemaValue, // Infer the resolved config type from a schema\n  type SettingsSources, // Type for the sources object passed to load()\n  type ExtendedResult, // Return type of loadExtended()\n  type NodeTree, // Tree of ConfigNode objects (ExtendedResult.data)\n  ConfigNode, // Class representing a resolved value with source metadata\n  ConfigNodeArray, // Class representing an array of ConfigNode values\n  type RecursivePartial, // Deep partial utility used by the defaults option\n  type StandardSchemaV1, // Standard Schema v1 interface for validators\n  maskSecrets, // Create a safe-to-log copy with sensitive values masked\n  printConfig, // Format loadExtended() result as a readable table\n} from "@meltstudio/config-loader";\n'})}),"\n",(0,s.jsx)(t.h2,{id:"schemavalue",children:(0,s.jsx)(t.code,{children:"SchemaValue"})}),"\n",(0,s.jsx)(t.p,{children:"The most commonly needed type utility. Infers the plain TypeScript type from a schema definition:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-typescript",children:'const mySchema = {\n  port: c.number({ env: "PORT" }),\n  db: c.object({ item: { host: c.string(), port: c.number() } }),\n};\n\ntype MyConfig = SchemaValue<typeof mySchema>;\n// { port: number; db: { host: string; port: number } }\n'})}),"\n",(0,s.jsx)(t.p,{children:"This is useful when you want to pass the config object to functions that need an explicit type annotation:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-typescript",children:"function startServer(config: MyConfig) {\n  // config.port and config.db are fully typed\n}\n"})}),"\n",(0,s.jsxs)(t.h2,{id:"oneof-type-narrowing",children:[(0,s.jsx)(t.code,{children:"oneOf"})," Type Narrowing"]}),"\n",(0,s.jsxs)(t.p,{children:["When using ",(0,s.jsx)(t.code,{children:"oneOf"}),", ",(0,s.jsx)(t.code,{children:"SchemaValue"})," automatically narrows the type to the union of allowed values:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-typescript",children:'const schema = {\n  env: c.string({ oneOf: ["dev", "staging", "prod"] }),\n  level: c.number({ oneOf: [0, 1, 2, 3] }),\n};\n\ntype Config = SchemaValue<typeof schema>;\n// { env: "dev" | "staging" | "prod"; level: 0 | 1 | 2 | 3 }\n'})}),"\n",(0,s.jsx)(t.h2,{id:"license",children:"License"}),"\n",(0,s.jsxs)(t.p,{children:["Built by ",(0,s.jsx)(t.a,{href:"https://meltstudio.co",children:"Melt Studio"}),". Licensed under the ",(0,s.jsx)(t.a,{href:"https://github.com/MeltStudio/config-loader/blob/main/LICENSE",children:"MIT License"}),"."]})]})}function p(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453(e,t,n){n.d(t,{R:()=>r,x:()=>a});var i=n(6540);const s={},o=i.createContext(s);function r(e){const t=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),i.createElement(o.Provider,{value:t},e.children)}}}]);