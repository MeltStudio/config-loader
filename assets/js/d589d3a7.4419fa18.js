"use strict";(self.webpackChunk_meltstudio_config_loader=self.webpackChunk_meltstudio_config_loader||[]).push([[924],{2478(e,n,r){r.r(n),r.d(n,{assets:()=>T,contentTitle:()=>O,default:()=>_,frontMatter:()=>I,metadata:()=>t,toc:()=>V});const t=JSON.parse('{"id":"getting-started","title":"Getting Started","description":"A type-safe configuration loader for Node.js. Define your schema once, load from YAML, JSON, or TOML files, .env files, environment variables, and CLI arguments \u2014 and get a fully typed result with zero manual type annotations.","source":"@site/docs/getting-started.md","sourceDirName":".","slug":"/","permalink":"/config-loader/","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"slug":"/","sidebar_position":1,"title":"Getting Started"},"sidebar":"defaultSidebar","next":{"title":"Schema API","permalink":"/config-loader/schema-api"}}');var a=r(2615),i=r(416),s=r(9471),l=r(3526),o=r(8052),c=r(2323),d=r(2264),u=r(8180),h=r(8148),f=r(1437),m=r(2721);function p(e){var n,r;return null!=(n=null==(r=s.Children.toArray(e).filter(function(e){return"\n"!==e}).map(function(e){if(!e||(0,s.isValidElement)(e)&&((n=e.props)&&"object"==typeof n&&"value"in n))return e;var n;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')}))?void 0:r.filter(Boolean))?n:[]}function g(e){var n=e.values,r=e.children;return(0,s.useMemo)(function(){var e=null!=n?n:function(e){return p(e).map(function(e){var n=e.props;return{value:n.value,label:n.label,attributes:n.attributes,default:n.default}})}(r);return function(e){var n=(0,f.XI)(e,function(e,n){return e.value===n.value});if(n.length>0)throw new Error('Docusaurus error: Duplicate values "'+n.map(function(e){return e.value}).join(", ")+'" found in <Tabs>. Every value needs to be unique.')}(e),e},[n,r])}function b(e){var n=e.value;return e.tabValues.some(function(e){return e.value===n})}function v(e){var n=e.queryString,r=void 0!==n&&n,t=e.groupId,a=(0,d.W6)(),i=function(e){var n=e.queryString,r=void 0!==n&&n,t=e.groupId;if("string"==typeof r)return r;if(!1===r)return null;if(!0===r&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return null!=t?t:null}({queryString:r,groupId:t});return[(0,h.aZ)(i),(0,s.useCallback)(function(e){if(i){var n=new URLSearchParams(a.location.search);n.set(i,e),a.replace(Object.assign({},a.location,{search:n.toString()}))}},[i,a])]}function j(e){var n,r,t,a,i=e.defaultValue,l=e.queryString,o=void 0!==l&&l,c=e.groupId,d=g(e),h=(0,s.useState)(function(){return function(e){var n,r=e.defaultValue,t=e.tabValues;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(r){if(!b({value:r,tabValues:t}))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+r+'" but none of its children has the corresponding value. Available values are: '+t.map(function(e){return e.value}).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");return r}var a=null!=(n=t.find(function(e){return e.default}))?n:t[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:i,tabValues:d})}),f=h[0],p=h[1],j=v({queryString:o,groupId:c}),x=j[0],y=j[1],w=(n=function(e){return e?"docusaurus.tab."+e:null}({groupId:c}.groupId),r=(0,m.Dv)(n),t=r[0],a=r[1],[t,(0,s.useCallback)(function(e){n&&a.set(e)},[n,a])]),S=w[0],q=w[1],N=function(){var e=null!=x?x:S;return b({value:e,tabValues:d})?e:null}();return(0,u.A)(function(){N&&p(N)},[N]),{selectedValue:f,selectValue:(0,s.useCallback)(function(e){if(!b({value:e,tabValues:d}))throw new Error("Can't select invalid tab value="+e);p(e),y(e),q(e)},[y,q,d]),tabValues:d}}var x=r(9104);const y="tabList_kSMr",w="tabItem_kJlD";function S(e){var n=e.className,r=e.block,t=e.selectedValue,i=e.selectValue,s=e.tabValues,o=[],d=(0,c.a_)().blockElementScrollPositionUntilNextRender,u=function(e){var n=e.currentTarget,r=o.indexOf(n),a=s[r].value;a!==t&&(d(n),i(a))},h=function(e){var n,r=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":var t,a=o.indexOf(e.currentTarget)+1;r=null!=(t=o[a])?t:o[0];break;case"ArrowLeft":var i,s=o.indexOf(e.currentTarget)-1;r=null!=(i=o[s])?i:o[o.length-1]}null==(n=r)||n.focus()};return(0,a.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,l.A)("tabs",{"tabs--block":r},n),children:s.map(function(e){var n=e.value,r=e.label,i=e.attributes;return(0,a.jsx)("li",Object.assign({role:"tab",tabIndex:t===n?0:-1,"aria-selected":t===n,ref:function(e){o.push(e)},onKeyDown:h,onClick:u},i,{className:(0,l.A)("tabs__item",w,null==i?void 0:i.className,{"tabs__item--active":t===n}),children:null!=r?r:n}),n)})})}function q(e){var n=e.lazy,r=e.children,t=e.selectedValue,i=(Array.isArray(r)?r:[r]).filter(Boolean);if(n){var o=i.find(function(e){return e.props.value===t});return o?(0,s.cloneElement)(o,{className:(0,l.A)("margin-top--md",o.props.className)}):null}return(0,a.jsx)("div",{className:"margin-top--md",children:i.map(function(e,n){return(0,s.cloneElement)(e,{key:n,hidden:e.props.value!==t})})})}function N(e){var n=j(e);return(0,a.jsxs)("div",{className:(0,l.A)(o.G.tabs.container,"tabs-container",y),children:[(0,a.jsx)(S,Object.assign({},n,e)),(0,a.jsx)(q,Object.assign({},n,e))]})}function k(e){var n=(0,x.A)();return(0,a.jsx)(N,Object.assign({},e,{children:p(e.children)}),String(n))}const A="tabItem_DOJC";function M(e){var n=e.children,r=e.hidden,t=e.className;return(0,a.jsx)("div",{role:"tabpanel",className:(0,l.A)(A,t),hidden:r,children:n})}const I={slug:"/",sidebar_position:1,title:"Getting Started"},O="@meltstudio/config-loader",T={},V=[{value:"Why config-loader?",id:"why-config-loader",level:2},{value:"Features",id:"features",level:2},{value:"Requirements",id:"requirements",level:2},{value:"Installation",id:"installation",level:2},{value:"Quick Start",id:"quick-start",level:2}];function C(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"meltstudioconfig-loader",children:"@meltstudio/config-loader"})}),"\n",(0,a.jsxs)(n.p,{children:["A type-safe configuration loader for Node.js. Define your schema once, load from YAML, JSON, or TOML files, ",(0,a.jsx)(n.code,{children:".env"})," files, environment variables, and CLI arguments \u2014 and get a fully typed result with zero manual type annotations."]}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Upgrading from v1?"})," v1.x is deprecated and no longer maintained. Install the latest version with ",(0,a.jsx)(n.code,{children:"npm install @meltstudio/config-loader@latest"}),"."]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"why-config-loader",children:"Why config-loader?"}),"\n",(0,a.jsxs)(n.p,{children:["Most config libraries give you ",(0,a.jsx)(n.code,{children:"Record<string, unknown>"})," and leave you to cast or validate manually. config-loader infers TypeScript types directly from your schema definition:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:'import c from "@meltstudio/config-loader";\n\nconst config = c\n  .schema({\n    port: c.number({ required: true, env: "PORT" }),\n    database: c.object({\n      item: {\n        host: c.string({ required: true }),\n        credentials: c.object({\n          item: {\n            username: c.string(),\n            password: c.string({ env: "DB_PASSWORD", sensitive: true }),\n          },\n        }),\n      },\n    }),\n    features: c.array({\n      required: true,\n      item: c.object({\n        item: {\n          name: c.string(),\n          enabled: c.bool(),\n        },\n      }),\n    }),\n  })\n  .load({\n    env: true,\n    args: true,\n    files: "./config.yaml",\n  });\n\n// config is fully typed:\n// {\n//   port: number;\n//   database: { host: string; credentials: { username: string; password: string } };\n//   features: { name: string; enabled: boolean }[];\n// }\n'})}),"\n",(0,a.jsxs)(n.p,{children:["No separate interface to maintain. No ",(0,a.jsx)(n.code,{children:"as"})," casts. The types flow from the schema."]}),"\n",(0,a.jsx)(n.h2,{id:"features",children:"Features"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Full type inference"})," \u2014 schema definition produces typed output automatically"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Multiple sources"})," \u2014 YAML, JSON, TOML files, ",(0,a.jsx)(n.code,{children:".env"})," files, environment variables, CLI arguments"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Priority resolution"})," \u2014 CLI > process.env > ",(0,a.jsx)(n.code,{children:".env"})," files > Config files > Defaults"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsxs)(n.strong,{children:[(0,a.jsx)(n.code,{children:".env"})," file support"]})," \u2014 load environment variables from ",(0,a.jsx)(n.code,{children:".env"})," files with automatic line tracking"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Nested objects and arrays"})," \u2014 deeply nested configs with full type safety"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Structured errors"})," \u2014 typed ",(0,a.jsx)(n.code,{children:"ConfigLoadError"})," with per-field error details and warnings"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Enum constraints"})," \u2014 restrict values to a fixed set with ",(0,a.jsx)(n.code,{children:"oneOf"}),", with full type narrowing"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Sensitive fields"})," \u2014 mark fields with ",(0,a.jsx)(n.code,{children:"sensitive: true"})," to auto-mask in ",(0,a.jsx)(n.code,{children:"printConfig()"})," and ",(0,a.jsx)(n.code,{children:"maskSecrets()"})]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Schema validation"})," \u2014 optional per-field validation via ",(0,a.jsx)(n.a,{href:"https://github.com/standard-schema/standard-schema",children:"Standard Schema"})," (Zod, Valibot, ArkType, or custom)"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Strict mode"})," \u2014 promote warnings to errors for production safety"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Default values"})," \u2014 static or computed (via functions)"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Multiple files / directory loading"})," \u2014 load from a list of files or an entire directory"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"File watching"})," \u2014 ",(0,a.jsx)(n.a,{href:"./loading-and-sources#watch-mode",children:(0,a.jsx)(n.code,{children:"watch()"})})," reloads config on file changes with debouncing, change detection, and error recovery"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"requirements",children:"Requirements"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Node.js >= 20"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"npm install @meltstudio/config-loader\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"pnpm add @meltstudio/config-loader\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"yarn add @meltstudio/config-loader\n"})}),"\n",(0,a.jsx)(n.h2,{id:"quick-start",children:"Quick Start"}),"\n","\n",(0,a.jsx)(n.p,{children:"Create a config file in your preferred format:"}),"\n",(0,a.jsxs)(k,{children:[(0,a.jsx)(M,{value:"yaml",label:"YAML",default:!0,children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",metastring:'title="config.yaml"',children:"version: 1.0.0\nwebsite:\n  title: My Website\n  description: A simple and elegant website\n  isProduction: false\n\ndatabase:\n  host: localhost\n  port: 5432\n  credentials:\n    username: admin\n    password: secret\n\nsocialMedia: [https://twitter.com/example, https://instagram.com/example]\n\nfeatures:\n  - name: Store\n    enabled: true\n  - name: Admin\n    enabled: false\n"})})}),(0,a.jsx)(M,{value:"toml",label:"TOML",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-toml",metastring:'title="config.toml"',children:'version = "1.0.0"\nsocialMedia = ["https://twitter.com/example", "https://instagram.com/example"]\n\n[website]\ntitle = "My Website"\ndescription = "A simple and elegant website"\nisProduction = false\n\n[database]\nhost = "localhost"\nport = 5432\n\n[database.credentials]\nusername = "admin"\npassword = "secret"\n\n[[features]]\nname = "Store"\nenabled = true\n\n[[features]]\nname = "Admin"\nenabled = false\n'})})}),(0,a.jsx)(M,{value:"json",label:"JSON",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",metastring:'title="config.json"',children:'{\n  "version": "1.0.0",\n  "website": {\n    "title": "My Website",\n    "description": "A simple and elegant website",\n    "isProduction": false\n  },\n  "database": {\n    "host": "localhost",\n    "port": 5432,\n    "credentials": {\n      "username": "admin",\n      "password": "secret"\n    }\n  },\n  "socialMedia": [\n    "https://twitter.com/example",\n    "https://instagram.com/example"\n  ],\n  "features": [\n    { "name": "Store", "enabled": true },\n    { "name": "Admin", "enabled": false }\n  ]\n}\n'})})})]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"index.ts:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",children:'import path from "path";\nimport c from "@meltstudio/config-loader";\n\nconst config = c\n  .schema({\n    version: c.string({ required: true, cli: true }),\n    website: c.object({\n      item: {\n        title: c.string({ required: true }),\n        url: c.string({\n          required: false,\n          defaultValue: "www.mywebsite.dev",\n        }),\n        description: c.string({ required: true }),\n        isProduction: c.bool({ required: true }),\n      },\n    }),\n    database: c.object({\n      item: {\n        host: c.string({ required: true }),\n        port: c.number({ required: true }),\n        credentials: c.object({\n          item: {\n            username: c.string(),\n            password: c.string(),\n          },\n        }),\n      },\n    }),\n    socialMedia: c.array({\n      required: true,\n      item: c.string({ required: true }),\n    }),\n    features: c.array({\n      required: true,\n      item: c.object({\n        item: {\n          name: c.string(),\n          enabled: c.bool(),\n        },\n      }),\n    }),\n  })\n  .load({\n    env: false,\n    args: true,\n    files: path.join(__dirname, "./config.yaml"),\n  });\n\nconsole.log(JSON.stringify(config, null, 2));\n'})}),"\n",(0,a.jsx)(n.p,{children:"Output:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n  "version": "1.0.0",\n  "website": {\n    "title": "My Website",\n    "url": "www.mywebsite.dev",\n    "description": "A simple and elegant website",\n    "isProduction": false\n  },\n  "database": {\n    "host": "localhost",\n    "port": 5432,\n    "credentials": {\n      "username": "admin",\n      "password": "secret"\n    }\n  },\n  "socialMedia": [\n    "https://twitter.com/example",\n    "https://instagram.com/example"\n  ],\n  "features": [\n    { "name": "Store", "enabled": true },\n    { "name": "Admin", "enabled": false }\n  ]\n}\n'})})]})}function _(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(C,{...e})}):C(e)}},416(e,n,r){r.d(n,{R:()=>s,x:()=>l});var t=r(9471);const a={},i=t.createContext(a);function s(e){const n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);