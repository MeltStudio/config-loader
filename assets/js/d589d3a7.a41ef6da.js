"use strict";(self.webpackChunk_meltstudio_config_loader=self.webpackChunk_meltstudio_config_loader||[]).push([[924],{6475(e,n,t){t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>a,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"getting-started","title":"Getting Started","description":"A type-safe configuration loader for Node.js. Define your schema once, load from YAML or JSON files, .env files, environment variables, and CLI arguments \u2014 and get a fully typed result with zero manual type annotations.","source":"@site/docs/getting-started.md","sourceDirName":".","slug":"/","permalink":"/config-loader/","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"slug":"/","sidebar_position":1,"title":"Getting Started"},"sidebar":"defaultSidebar","next":{"title":"Schema API","permalink":"/config-loader/schema-api"}}');var i=t(4848),s=t(8453);const a={slug:"/",sidebar_position:1,title:"Getting Started"},o="@meltstudio/config-loader",l={},c=[{value:"Why config-loader?",id:"why-config-loader",level:2},{value:"Features",id:"features",level:2},{value:"Requirements",id:"requirements",level:2},{value:"Installation",id:"installation",level:2},{value:"Quick Start",id:"quick-start",level:2}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"meltstudioconfig-loader",children:"@meltstudio/config-loader"})}),"\n",(0,i.jsxs)(n.p,{children:["A type-safe configuration loader for Node.js. Define your schema once, load from YAML or JSON files, ",(0,i.jsx)(n.code,{children:".env"})," files, environment variables, and CLI arguments \u2014 and get a fully typed result with zero manual type annotations."]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Upgrading from v1?"})," v1.x is deprecated. v2 includes breaking changes to the public API, object schema syntax, and requires Node.js >= 20. Install the latest version with ",(0,i.jsx)(n.code,{children:"npm install @meltstudio/config-loader@latest"})," or ",(0,i.jsx)(n.code,{children:"yarn add @meltstudio/config-loader@latest"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"why-config-loader",children:"Why config-loader?"}),"\n",(0,i.jsxs)(n.p,{children:["Most config libraries give you ",(0,i.jsx)(n.code,{children:"Record<string, unknown>"})," and leave you to cast or validate manually. config-loader infers TypeScript types directly from your schema definition:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:'import c from "@meltstudio/config-loader";\n\nconst config = c\n  .schema({\n    port: c.number({ required: true, env: "PORT" }),\n    database: c.object({\n      item: {\n        host: c.string({ required: true }),\n        credentials: c.object({\n          item: {\n            username: c.string(),\n            password: c.string({ env: "DB_PASSWORD", sensitive: true }),\n          },\n        }),\n      },\n    }),\n    features: c.array({\n      required: true,\n      item: c.object({\n        item: {\n          name: c.string(),\n          enabled: c.bool(),\n        },\n      }),\n    }),\n  })\n  .load({\n    env: true,\n    args: true,\n    files: "./config.yaml",\n  });\n\n// config is fully typed:\n// {\n//   port: number;\n//   database: { host: string; credentials: { username: string; password: string } };\n//   features: { name: string; enabled: boolean }[];\n// }\n'})}),"\n",(0,i.jsxs)(n.p,{children:["No separate interface to maintain. No ",(0,i.jsx)(n.code,{children:"as"})," casts. The types flow from the schema."]}),"\n",(0,i.jsx)(n.h2,{id:"features",children:"Features"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Full type inference"})," \u2014 schema definition produces typed output automatically"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Multiple sources"})," \u2014 YAML files, JSON files, ",(0,i.jsx)(n.code,{children:".env"})," files, environment variables, CLI arguments"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Priority resolution"})," \u2014 CLI > process.env > ",(0,i.jsx)(n.code,{children:".env"})," files > Config files > Defaults"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsxs)(n.strong,{children:[(0,i.jsx)(n.code,{children:".env"})," file support"]})," \u2014 load environment variables from ",(0,i.jsx)(n.code,{children:".env"})," files with automatic line tracking"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Nested objects and arrays"})," \u2014 deeply nested configs with full type safety"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Structured errors"})," \u2014 typed ",(0,i.jsx)(n.code,{children:"ConfigLoadError"})," with per-field error details and warnings"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Enum constraints"})," \u2014 restrict values to a fixed set with ",(0,i.jsx)(n.code,{children:"oneOf"}),", with full type narrowing"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Sensitive fields"})," \u2014 mark fields with ",(0,i.jsx)(n.code,{children:"sensitive: true"})," to auto-mask in ",(0,i.jsx)(n.code,{children:"printConfig()"})," and ",(0,i.jsx)(n.code,{children:"maskSecrets()"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Schema validation"})," \u2014 optional per-field validation via ",(0,i.jsx)(n.a,{href:"https://github.com/standard-schema/standard-schema",children:"Standard Schema"})," (Zod, Valibot, ArkType, or custom)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Strict mode"})," \u2014 promote warnings to errors for production safety"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default values"})," \u2014 static or computed (via functions)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Multiple files / directory loading"})," \u2014 load from a list of files or an entire directory"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"requirements",children:"Requirements"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Node.js >= 20"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npm install @meltstudio/config-loader\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"yarn add @meltstudio/config-loader\n"})}),"\n",(0,i.jsx)(n.h2,{id:"quick-start",children:"Quick Start"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"config.yaml:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"version: 1.0.0\nwebsite:\n  title: My Website\n  description: A simple and elegant website\n  isProduction: false\n\ndatabase:\n  host: localhost\n  port: 5432\n  credentials:\n    username: admin\n    password: secret\n\nsocialMedia: [https://twitter.com/example, https://instagram.com/example]\n\nfeatures:\n  - name: Store\n    enabled: true\n  - name: Admin\n    enabled: false\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"index.ts:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:'import path from "path";\nimport c from "@meltstudio/config-loader";\n\nconst config = c\n  .schema({\n    version: c.string({ required: true, cli: true }),\n    website: c.object({\n      item: {\n        title: c.string({ required: true }),\n        url: c.string({\n          required: false,\n          defaultValue: "www.mywebsite.dev",\n        }),\n        description: c.string({ required: true }),\n        isProduction: c.bool({ required: true }),\n      },\n    }),\n    database: c.object({\n      item: {\n        host: c.string({ required: true }),\n        port: c.number({ required: true }),\n        credentials: c.object({\n          item: {\n            username: c.string(),\n            password: c.string(),\n          },\n        }),\n      },\n    }),\n    socialMedia: c.array({\n      required: true,\n      item: c.string({ required: true }),\n    }),\n    features: c.array({\n      required: true,\n      item: c.object({\n        item: {\n          name: c.string(),\n          enabled: c.bool(),\n        },\n      }),\n    }),\n  })\n  .load({\n    env: false,\n    args: true,\n    files: path.join(__dirname, "./config.yaml"),\n  });\n\nconsole.log(JSON.stringify(config, null, 2));\n'})}),"\n",(0,i.jsx)(n.p,{children:"Output:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "version": "1.0.0",\n  "website": {\n    "title": "My Website",\n    "url": "www.mywebsite.dev",\n    "description": "A simple and elegant website",\n    "isProduction": false\n  },\n  "database": {\n    "host": "localhost",\n    "port": 5432,\n    "credentials": {\n      "username": "admin",\n      "password": "secret"\n    }\n  },\n  "socialMedia": [\n    "https://twitter.com/example",\n    "https://instagram.com/example"\n  ],\n  "features": [\n    { "name": "Store", "enabled": true },\n    { "name": "Admin", "enabled": false }\n  ]\n}\n'})})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453(e,n,t){t.d(n,{R:()=>a,x:()=>o});var r=t(6540);const i={},s=r.createContext(i);function a(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);